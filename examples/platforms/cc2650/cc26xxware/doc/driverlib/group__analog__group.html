<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.ico" >
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CC26xx Driver Library: Analog Domain</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ti_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CC26xx Driver Library
   </div>
  </td>
  <td id="projectlogo"><a href="http://www.ti.com"><img align="right" alt="Logo" src="ti_logo_header.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>APIs</span></a></li>
      <li><a href="usergroup0.html"><span>Register&#160;Descriptions</span></a></li>
      <li><a href="usergroup1.html"><span>Online&#160;Resources</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__analog__group.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Analog Domain</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__adi__api"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adi__api.html">[adi] Analog to Digital Interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__ddi__api"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ddi__api.html">[ddi] Digital to Digital Interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1><a class="anchor" id="sec_analog"></a>
Introduction</h1>
<p>Access to registers in the analog domain of the device goes through master modules controlling slave modules which contain the actual registers. The master module is located in the digital domain of the device. The interfaces between master and slave modules are called ADI (Analog-to-Digital Interface) and DDI (Digital-to-Digital Interface) depending on the type of module to access and thus the slave modules are referred to as ADI slave and DDI slave.</p>
<p>The ADI and DDI APIs provide access to these registers:</p><ul>
<li><a href="../register_descriptions/ANATOP_MMAP/ADI_2_REFSYS.html" target="_blank">ADI_2_REFSYS</a> : Reference System for generating reference voltages and reference currents.<ul>
<li>Reference system control</li>
<li>SOC LDO control</li>
</ul>
</li>
<li><a href="../register_descriptions/ANATOP_MMAP/ADI_3_REFSYS.html" target="_blank">ADI_3_REFSYS</a> : Reference System for generating reference voltages and reference currents.<ul>
<li>Reference system control</li>
<li>DC/DC control</li>
</ul>
</li>
<li><a href="../register_descriptions/ANATOP_MMAP/ADI_4_AUX.html" target="_blank">ADI_4_AUX</a> : Controlling analog peripherals of AUX.<ul>
<li>Multiplexers</li>
<li>Current source</li>
<li>Comparators</li>
<li>ADCs</li>
</ul>
</li>
<li><a href="../register_descriptions/ANATOP_MMAP/DDI_0_OSC.html" target="_blank">DDI_0_OSC</a> : Controlling the oscillators (via AUX domain)</li>
</ul>
<p>The register descriptions of CPU memory map document the ADI/DDI masters. The register descriptions of analog memory map document the ADI/DDI slaves. The ADI/DDI APIs allow the programmer to focus on the slave registers of interest without being concerned with the ADI/DDI master part of the interface.</p>
<p>Although the ADI/DDI APIs make the master "transparent" it can be useful to know a few details about the ADI/DDI protocol and how the master handles transactions as it can affect how the system CPU performs.</p><ul>
<li>ADI protocol uses 8-bit write bus compared to 32-bit write bus in DDI. ADI protocol uses 4-bit read bus compared to 16-bit read bus in DDI. Hence a 32-bit read from an ADI register is translated into 8 transactions in the ADI protocol.</li>
<li>One transaction on the ADI/DDI protocol takes several clock cycles for the master to complete.</li>
<li>Access to AUX ADI/DDI requires use of a semaphore. This is handled automatically by DriverLib which uses <a class="el" href="group__ddi__api.html#ga06d6b1eee2c8757b8431eb6e1ab98f68">AuxAdiDdiSafeWrite()</a> and <a class="el" href="group__ddi__api.html#ga8175a094afd96e5f440a276c4cc7fe44">AuxAdiDdiSafeRead()</a> whenever AUX is accessed.</li>
<li>ADI slave registers are 8-bit wide.</li>
<li>DDI slave registers are 32-bit wide.</li>
<li>ADI/DDI master supports multiple data width accesses seen from the system CPU (however, not all bit width accesses are supported by the APIs):<ul>
<li>Read: 8, 16, 32-bit</li>
<li>Write<ul>
<li>Direct (write, set, clear): 8, 16, 32-bit</li>
<li>Masked: 4, 8, 16-bit</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Making posted/buffered writes from the system CPU (default) to the ADI/DDI allows the system CPU to continue while the ADI/DDI master handles the transactions on the ADI/DDI protocol. If using non-posted/non-buffered writes the system CPU will wait for ADI/DDI master to complete the transactions to the slave before continuing execution.</p>
<p>Reading from ADI/DDI requires that all transactions on the ADI/DDI protocol have completed before the system CPU receives the response thus the programmer must understand that the response time depends on the number of bytes read. However, due to the 'set', 'clear' and 'masked write' features of the ADI/DDI most writes can be done without the typical read-modify-write sequence thus reducing the need for reads to a minimum.</p>
<p>Consequently, if making posted/buffered writes then the written value will not take effect in the analog domain until some point later in time. An alternative to non-posted/non-buffered writes - in order to make sure a written value has taken effect - is to read from the same ADI/DDI as the write as this will keep the system CPU waiting until both the write and the read have completed.</p>
<dl class="section note"><dt>Note</dt><dd>Do NOT use masked write when writing bit fields spanning the "masked write boundary" i.e. the widest possible masked write that the protocol supports (ADI = 4 bits, DDI = 16 bits). This will put the device into a temporary state - which is potentially harmful to the device - as the bit field will be written over two transactions. Thus to use masked writes:<ul>
<li>For ADI the bit field(s) must be within bit 0 to 3 (REG[3:0]) or bit 4 to 7 (REG[7:4]).</li>
<li>For DDI the bit field(s) must be within bit 0 to 15 (REG[15:0]) or bit 16 to 31 (REG[31:16]).</li>
</ul>
</dd>
<dd>
If masked write is not allowed, a regular read-modify-write is necessary. </dd></dl>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">&copy Copyright 2016 Texas Instruments Incorporated. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
